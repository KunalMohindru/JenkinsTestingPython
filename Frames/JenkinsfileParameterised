pipeline {
    agent any

    parameters {
        choice(name: 'browser_name', choices: ['chrome', 'edge', 'headless'])
    }

    stages {
        stage('Install dependencies') {
            steps {
                bat """
                pip install -r Frames\\requirements.txt
                """
            }
        }

        stage('Run Tests') {
            steps {
                bat """
                pytest -s -v --brower_name=${params.browser_name} Frames\\Test\\test_google.py
                """
            }
        }
    }
}
